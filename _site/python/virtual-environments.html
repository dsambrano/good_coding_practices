<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Reproducible Python Code with Virutal Environments | Your Coding Buddy</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Reproducible Python Code with Virutal Environments" />
<meta name="author" content="Deshawn Sambrano" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="&lt;h4&gt;Table of Contents&lt;/h4&gt; &lt;aside class=&quot;toc&quot;&gt; Reproducible Code &lt;/aside&gt; In this post you will learn some best practices for coding in Python. By the end you will: Learn how write reproducible code that can be run on any machine Learn how f-strings work to make clean text in python Learn how to properly log and handle errors in your code Prerequisites: Basic/working knowledge of how to write python code. Does not need to be advance, as long as you know how to write and run a script. Reproducible Code Many of the keys to writing good code in python also mean you write reproducible code. Why? Because Code is meant for HUMANS, not machines So making sure you write good code means making sure you write code that you or others can read, understand, and edit your code without much hassle. The better you get at that skill, the better coder you will become, but simultaneously, you will also have more flexible and reproducible code. First we will start by making an environment that can be recreated so anyone can replicated your code on their machine." />
<meta property="og:description" content="&lt;h4&gt;Table of Contents&lt;/h4&gt; &lt;aside class=&quot;toc&quot;&gt; Reproducible Code &lt;/aside&gt; In this post you will learn some best practices for coding in Python. By the end you will: Learn how write reproducible code that can be run on any machine Learn how f-strings work to make clean text in python Learn how to properly log and handle errors in your code Prerequisites: Basic/working knowledge of how to write python code. Does not need to be advance, as long as you know how to write and run a script. Reproducible Code Many of the keys to writing good code in python also mean you write reproducible code. Why? Because Code is meant for HUMANS, not machines So making sure you write good code means making sure you write code that you or others can read, understand, and edit your code without much hassle. The better you get at that skill, the better coder you will become, but simultaneously, you will also have more flexible and reproducible code. First we will start by making an environment that can be recreated so anyone can replicated your code on their machine." />
<link rel="canonical" href="http://localhost:4000/python/virtual-environments" />
<meta property="og:url" content="http://localhost:4000/python/virtual-environments" />
<meta property="og:site_name" content="Your Coding Buddy" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-10-03T00:00:00-07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Reproducible Python Code with Virutal Environments" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Deshawn Sambrano"},"dateModified":"2022-10-03T00:00:00-07:00","datePublished":"2022-10-03T00:00:00-07:00","description":"&lt;h4&gt;Table of Contents&lt;/h4&gt; &lt;aside class=&quot;toc&quot;&gt; Reproducible Code &lt;/aside&gt; In this post you will learn some best practices for coding in Python. By the end you will: Learn how write reproducible code that can be run on any machine Learn how f-strings work to make clean text in python Learn how to properly log and handle errors in your code Prerequisites: Basic/working knowledge of how to write python code. Does not need to be advance, as long as you know how to write and run a script. Reproducible Code Many of the keys to writing good code in python also mean you write reproducible code. Why? Because Code is meant for HUMANS, not machines So making sure you write good code means making sure you write code that you or others can read, understand, and edit your code without much hassle. The better you get at that skill, the better coder you will become, but simultaneously, you will also have more flexible and reproducible code. First we will start by making an environment that can be recreated so anyone can replicated your code on their machine.","headline":"Reproducible Python Code with Virutal Environments","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/python/virtual-environments"},"url":"http://localhost:4000/python/virtual-environments"}</script>
<!-- End Jekyll SEO tag -->
<script type="text/javascript" defer src="/assets/main.js"></script>
  <link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Your Coding Buddy" /><!-- for mathjax support -->
  
  <!-- <script type="text/x-mathjax-config">
      // From: http://webdocs.cs.ualberta.ca/~zichen2/blog/coding/setup/2019/02/17/how-to-add-mathjax-support-to-jekyll.html
      // MathJax.Hub.Config({
      // TeX: { equationNumbers: { autoNumber: "AMS" } }
      // });

      MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [["$", "$"], ["\\\\(", "\\\\)"]],
            displayMath: [["$$", "$$"], ["\\[", "\\]"]],
            processEscapes: true
        },
        config: ["MMLorHTML.js"],
        jax: ["input/TeX", "output/HTML-CSS", "output/NativeMML"],
        extensions: ["MathMenu.js", "MathZoom.js"]
    });
    </script>
    <script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  -->
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?con
fig=TeX-AMS_HTML-full"></script>
    <script type="text/x-mathjax-config">
        // Below config from: https://stackoverflow.com/a/54373640
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [["$", "$"], ["\\\\(", "\\\\)"]],
                displayMath: [["$$", "$$"], ["\\[", "\\]"]],
                processEscapes: true
            },
            config: ["MMLorHTML.js"],
            jax: ["input/TeX", "output/HTML-CSS", "output/NativeMML"],
            extensions: ["MathMenu.js", "MathZoom.js"]
        });
    </script>
  
</head>
<body><header class="site-header" role="banner">

    <a href="#main" class="skip skip-main">Jump to Main Content</a>

  <div class="wrapper"><a class="site-title" rel="author" href="/">Your Coding Buddy</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/additional-resources">Additional Resources</a><a class="page-link" href="/categories.html">Topics</a><a class="page-link" href="/diff">Difficulties</a><a class="page-link" href="/series">Series</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content" id="main">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Reproducible Python Code with Virutal Environments</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2022-10-03T00:00:00-07:00" itemprop="datePublished">Oct 3, 2022
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Deshawn Sambrano</span></span>
      • <span class="read-time"> Estimated Read Time: 20 mins</span>
       
      
      • <span class="page-diff"> Difficulty: <span class="Intermediate">Intermediate</span>
      </span>
       
    </p>

  </header>
  
    

  <div class="post-content e-content" itemprop="articleBody">
    <nav id="sidebar">
  <div class="toc-wrapper">
    <h4>Table of Contents</h4>
    <aside class="toc">
<ul id="markdown-toc">
  <li><a href="#reproducible-code" id="markdown-toc-reproducible-code">Reproducible Code</a>    <ul>
      <li><a href="#freeze-the-packages" id="markdown-toc-freeze-the-packages">Freeze the Packages!</a></li>
      <li><a href="#virtual-environments" id="markdown-toc-virtual-environments">Virtual Environments</a></li>
    </ul>
  </li>
</ul>

    </aside>
  </div>

</nav>

<section class="takeaways">

  <p>In this post you will learn some best practices for coding in Python. By the end you will:</p>
  <ul>
    <li>Learn how write reproducible code that can be run on any machine</li>
    <li>Learn how f-strings work to make clean text in python</li>
    <li>Learn how to properly log and handle errors in your code</li>
  </ul>

  <p>Prerequisites:</p>
  <ul>
    <li>Basic/working knowledge of how to write python code. Does not need to be advance, as long as you know how to write and run a script.</li>
  </ul>

</section>

<h2 id="reproducible-code">Reproducible Code</h2>

<!-- excerpt-start -->

<p>Many of the keys to writing good code in python also mean you write reproducible code.
Why? Because</p>
<blockquote>
  <p>Code is meant for HUMANS, not machines</p>
</blockquote>

<p>So making sure you write good code means making sure you write code that you or others can read, understand, and edit your code without much hassle.
The better you get at that skill, the better coder you will become, but simultaneously, you will also have more flexible and reproducible code.
First we will start by making an environment that can be recreated so anyone can replicated your code on their machine.</p>

<!-- excerpt-end -->

<h3 id="freeze-the-packages">Freeze the Packages!</h3>

<p>The first step to reproduce some code, is to make sure that you have all the correct packages.
In python you can save all the packages that you are currently using along with the version numbers with the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip freeze <span class="o">&gt;</span> requirements.txt
</code></pre></div></div>

<p>This will save all the packages that are installed in your [current environment][ve] to a file called <code class="language-plaintext highlighter-rouge">requirements.txt</code>.
Then on a new system you can install all those packages into your environment with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install</span> <span class="nt">-r</span> /path/to/requirements.txt
</code></pre></div></div>

<p>But this solution won’t work forever because one project might need <code class="language-plaintext highlighter-rouge">numpy 1.23.0</code>, while another one might need <code class="language-plaintext highlighter-rouge">0.97</code>.
To solve this issues you can use a [Virtual Environment][ve], which isolated all the installed packages into their own section so the dependencies don’t affect one another.</p>

<h3 id="virtual-environments">Virtual Environments</h3>

<p>Virtual Environments are a mechanism used to prevent dependency issues across your python project. 
There are several tools for implementing virtual environments:</p>

<ul>
  <li><a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html" title="Conda environments">Anaconda environments</a> with <code class="language-plaintext highlighter-rouge">conda create</code></li>
  <li><a href="https://docs.python.org/3/library/venv.html" title="Venv: Python Builtin Virtual Environment Creator">venv</a> which is python’s builtin method</li>
  <li><a href="https://pypi.org/project/virtualenv/" title="Virtual Env">virtualenv</a> with <a href="https://virtualenvwrapper.readthedocs.io/en/latest/" title="Virtual Wrapper">vewrapper</a></li>
  <li><a href="https://github.com/pypa/pipenv" title="Pipenv Python Dev for Humans">pipenv</a></li>
  <li><a href="https://github.com/pyenv/pyenv" title="Pyenv for simple VE in python">pyenv</a></li>
</ul>

<p>For beginners and data scientist, I would say <a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html" title="Conda environments">anaconda environments</a> are the easiest to use.
So I would recommend using those, and switching to one of the others if the project needs it or you learn the basics because conda environments can take a lot of space and are quite heavy.</p>

<p>After installing (you can use homebrew <code class="language-plaintext highlighter-rouge">brew install --cask anaconda</code> or download from the <a href="https://www.anaconda.com/products/distribution" title="Anaconda">website</a>), you can create a <a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html" title="Conda environments"><code class="language-plaintext highlighter-rouge">conda env</code></a> with the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda create <span class="nt">-n</span> NAME_OF_ENVIRONMENT <span class="nv">python</span><span class="o">=</span>VERSION_NUMBER
</code></pre></div></div>

<p>then you just activate the environment with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda activate NAME_OF_ENVIRONMENT
</code></pre></div></div>

<p>now everything that you install will be completely isolated from the rest of your python environments so you don’t need to worry about dependency incompatabilities.
To leave the environment just use:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda deactivate
</code></pre></div></div>

<p>Using the builtin venv method is pretty common online for github projects, so I will show a basic example.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 <span class="nt">-m</span> venv NAME_OF_VIRTUAL_ENV <span class="c"># Creation</span>
<span class="nb">.</span> NAME_OF_VIRTUAL_ENV/bin/activate <span class="c"># Activation</span>
</code></pre></div></div>

<p>Now that you have a working (and active) virtual environment, you can install all the packages that you want, and they will not affect any other proejcts that you have</p>

<!-- ## References -->

<!-- ### Virtual Environmnts -->

<!-- ### f Strings -->

<!-- ### Type hints -->

<!-- ### Exceptions -->

<!-- ### Logging -->

<!-- ### Asynchronous Code -->


  </div>

  <a class="u-url" href="/python/virtual-environments" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Your Coding Buddy</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Your Coding Buddy</li><li><a class="u-email" href="mailto:dsambrano@g.harvard.edu">dsambrano@g.harvard.edu</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/dsambrano"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">dsambrano</span></a></li><li><a href="https://www.twitter.com/DeshawnSambrano"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">DeshawnSambrano</span></a></li><li><a href="https://youtube.com/Dbrano3"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#youtube"></use></svg> <span class="username">Dbrano3</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Learning all the gaps in your coding knowledge. Your Coding Buddy  is here to save the day!</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
