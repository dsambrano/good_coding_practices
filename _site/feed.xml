<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2022-10-17T14:46:11-07:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Your Coding Buddy</title><subtitle>Learning all the gaps in your coding knowledge. Your Coding Buddy  is here to save the day!</subtitle><entry><title type="html">Computation Modeling</title><link href="http://localhost:4000/computational-modeling/" rel="alternate" type="text/html" title="Computation Modeling" /><published>2022-10-03T00:00:00-07:00</published><updated>2022-10-03T00:00:00-07:00</updated><id>http://localhost:4000/computational-modeling</id><content type="html" xml:base="http://localhost:4000/computational-modeling/"><![CDATA[<nav id="sidebar">
  <div class="toc-wrapper">
    <h4>Table of Contents</h4>
    <aside class="toc">
<ul id="markdown-toc">
  <li><a href="#what-even-is-a-computational-model" id="markdown-toc-what-even-is-a-computational-model">What Even is a Computational Model</a></li>
  <li><a href="#why-should-you-use-a-computational-model" id="markdown-toc-why-should-you-use-a-computational-model">Why Should You Use A Computational Model</a></li>
</ul>

    </aside>
  </div>

  <aside class="series">
    <h4>This post is part of the series <em>Computational Modeling</em></h4>
    <ol start="0">
    <li>
      <strong>Computation Modeling</strong>
    </li>
    <li>
      <a href="/computational-modeling/selecting-a-model">Selecting a Model</a>
    </li>
  </ol>

    <p>More posts coming soon!</p>

  </aside>

</nav>

<section class="takeaways series">

  <p>In this blog you will learn the basics of computational modeling. Specifically you will learn:</p>
  <ul>
    <li>What is a computational model and why they are useful?</li>
    <li>How to implement a computational model with an example.</li>
    <li>How to estimate model parameters</li>
    <li>How to evaluate your models performance</li>
  </ul>

  <p>Prerequisites:</p>
  <ul>
    <li>Read through this <a href="/assets/papers/Holt2002_RiskAversionIncentives_enhanced_opt.pdf" title="Holt &amp; Laury 2002">paper</a> or have some basic background in behavioral economics / learning literature (e.g., reinforcement learning)</li>
    <li>Some basic experience with data analysis</li>
  </ul>

</section>

<h2 id="what-even-is-a-computational-model">What Even is a Computational Model</h2>
<!-- excerpt-start -->

<p>A Computational Model is just a mathematical equation, serving as a hypothesis, for some psychological phenomenon.
We use models all the time.
Most commonly, the linear model used for regression.
A computational model just adds flexibility because it is not predefined, so you can adjust it to your specific situation.
So you can allow it to have some non linearity or have multiple components.</p>
<blockquote>
  <p><strong>Note</strong>: When you use linear (or logistic) regression to prediction choices, you are using a model for how people are making those choices. Whatever you include in this model is all that it knows; and importantly, these models assume a particular structure for how choices are made. Is it the right structure for your data, maybe, maybe not? That is when computational models come in. You get to specific the structure.</p>
</blockquote>

<h2 id="why-should-you-use-a-computational-model">Why Should You Use A Computational Model</h2>

<p>Implementing computational models require a lot more work than a standard model, so if you are going to use it over standard statistical methods you should have a good reason.
There are several reasons one might elect to use a computational model.
For brevity, I will focus on two: Utility and Generalization.
Of course if you already are familar with their utility, feel free to skip to the next <a href="/computational-modeling/selecting-a-model">post</a>.</p>

<p>Computational models are particularly useful when they replace older schematic based models like the one below. 
Schematic models are a hypothesis or rather series of hypotheses about a particular phenomena. 
These models represent different variables of interest as boxes and relationships between them with arrows.
Schematic models are really useful when you are first exploring a feild, and you beginning to map out all of factors that are relavent to what you are studying. 
However, these types of models have some significant drawbacks.</p>
<blockquote>
  <p><strong>Note</strong>: I will be specifically, critquing the EIC model, but this was incredibly important at the time. I am specifically using it as an example, but all schematic based model have these pitfalls.</p>
</blockquote>

<p><img src="/assets/imgs/schematic_model.png" alt="EIC an Example Schematic Based Model" title="EIC an Example Schematic Based Model" /></p>

<p>First, schematic based models do not provide specific hypotheses, making them difficult (if not impossible) to falsify.
For example, each box on the schematic often represents a plethora of variables.
In the EIC model, there is box representing the characteristics of the decision maker (e.g., preferences and personality), which influences both one’s current emotions as well as the utility calculation of the options.
Undoubtedly, the authors do not imply every characteristic impacts one’s affective state and utility calculations, but which ones are important, and which can be ignored, are not specified.
Perhaps more importantly, because the particular variables of interest are not specified, one would need to test all possible characteristics to falsify the model’s hypothesis.</p>

<p>The second shortcoming of schematic based models is, by design, they do not make specific hypotheses about the magnitude of effects between related components nor do they address the structure for that relationship.
For example, in the EIC model, one’s current emotion influences the evaluations they make, which in turn affects their choices.
But how much does one’s affect impact their evaluations and what is the nature of that relationship?
Is it linear, the more intense the emotion the larger the effect, or is it based on a threshold, where any emotion intensity after the threshold will have a similar effect and any emotion below the threshold will not impact the evaluation at all?
Schematic based models do not provide this information.
One solution to this problem is to use a computational model for how people make decisions.</p>

<p>In addition to several practical benefits (e.g., ensuring your trial space is sufficiently wide and simulations), computational models address the limitations of schematic based models.
Since a computational model specifies all the variables that are hypothesized to impact one’s choice, anyone who has the model can make predictions outside the context for which the original model was developed.
For example, if an experiment includes lotteries with win rates of 25%, 50%, and 75%, one could use the model to hypothesize how a person would choose if the win rate was 10%.
They need only supply the arguments for a specific lottery as well as person’s parameter estimates.</p>

<p>Crucially, if new experimental data stands in conflict with the <strong>a priori</strong> predictions of the model, then the model is inaccurate (or at the very least incomplete).
There is a clear falsifiable hypothesis even outside the context of the original experiment.
Additionally, since a computational model is essentially a mathematical formula, the equaition provides clear, mathematically defined impacts on the outcome; the impact can be interpreted before any experiment or parameter estimation.
By design, the model’s formula describes the magnitude for the effects, whether they be linear, exponential, etc.
Together, these features help improved the scientific discourse.</p>]]></content><author><name>Deshawn Sambrano</name></author><category term="computational-modeling" /><category term="Math" /><category term="Computational-Modeling" /><category term="R" /><category term="Python" /><summary type="html"><![CDATA[Table of Contents What Even is a Computational Model Why Should You Use A Computational Model This post is part of the series Computational Modeling Computation Modeling Selecting a Model More posts coming soon! In this blog you will learn the basics of computational modeling. Specifically you will learn: What is a computational model and why they are useful? How to implement a computational model with an example. How to estimate model parameters How to evaluate your models performance Prerequisites: Read through this paper or have some basic background in behavioral economics / learning literature (e.g., reinforcement learning) Some basic experience with data analysis What Even is a Computational Model A Computational Model is just a mathematical equation, serving as a hypothesis, for some psychological phenomenon. We use models all the time. Most commonly, the linear model used for regression. A computational model just adds flexibility because it is not predefined, so you can adjust it to your specific situation. So you can allow it to have some non linearity or have multiple components. Note: When you use linear (or logistic) regression to prediction choices, you are using a model for how people are making those choices. Whatever you include in this model is all that it knows; and importantly, these models assume a particular structure for how choices are made. Is it the right structure for your data, maybe, maybe not? That is when computational models come in. You get to specific the structure. Why Should You Use A Computational Model Implementing computational models require a lot more work than a standard model, so if you are going to use it over standard statistical methods you should have a good reason. There are several reasons one might elect to use a computational model. For brevity, I will focus on two: Utility and Generalization. Of course if you already are familar with their utility, feel free to skip to the next post. Computational models are particularly useful when they replace older schematic based models like the one below. Schematic models are a hypothesis or rather series of hypotheses about a particular phenomena. These models represent different variables of interest as boxes and relationships between them with arrows. Schematic models are really useful when you are first exploring a feild, and you beginning to map out all of factors that are relavent to what you are studying. However, these types of models have some significant drawbacks. Note: I will be specifically, critquing the EIC model, but this was incredibly important at the time. I am specifically using it as an example, but all schematic based model have these pitfalls. First, schematic based models do not provide specific hypotheses, making them difficult (if not impossible) to falsify. For example, each box on the schematic often represents a plethora of variables. In the EIC model, there is box representing the characteristics of the decision maker (e.g., preferences and personality), which influences both one’s current emotions as well as the utility calculation of the options. Undoubtedly, the authors do not imply every characteristic impacts one’s affective state and utility calculations, but which ones are important, and which can be ignored, are not specified. Perhaps more importantly, because the particular variables of interest are not specified, one would need to test all possible characteristics to falsify the model’s hypothesis. The second shortcoming of schematic based models is, by design, they do not make specific hypotheses about the magnitude of effects between related components nor do they address the structure for that relationship. For example, in the EIC model, one’s current emotion influences the evaluations they make, which in turn affects their choices. But how much does one’s affect impact their evaluations and what is the nature of that relationship? Is it linear, the more intense the emotion the larger the effect, or is it based on a threshold, where any emotion intensity after the threshold will have a similar effect and any emotion below the threshold will not impact the evaluation at all? Schematic based models do not provide this information. One solution to this problem is to use a computational model for how people make decisions. In addition to several practical benefits (e.g., ensuring your trial space is sufficiently wide and simulations), computational models address the limitations of schematic based models. Since a computational model specifies all the variables that are hypothesized to impact one’s choice, anyone who has the model can make predictions outside the context for which the original model was developed. For example, if an experiment includes lotteries with win rates of 25%, 50%, and 75%, one could use the model to hypothesize how a person would choose if the win rate was 10%. They need only supply the arguments for a specific lottery as well as person’s parameter estimates. Crucially, if new experimental data stands in conflict with the a priori predictions of the model, then the model is inaccurate (or at the very least incomplete). There is a clear falsifiable hypothesis even outside the context of the original experiment. Additionally, since a computational model is essentially a mathematical formula, the equaition provides clear, mathematically defined impacts on the outcome; the impact can be interpreted before any experiment or parameter estimation. By design, the model’s formula describes the magnitude for the effects, whether they be linear, exponential, etc. Together, these features help improved the scientific discourse.]]></summary></entry><entry><title type="html">Selecting a Model</title><link href="http://localhost:4000/computational-modeling/selecting-a-model" rel="alternate" type="text/html" title="Selecting a Model" /><published>2022-10-03T00:00:00-07:00</published><updated>2022-10-03T00:00:00-07:00</updated><id>http://localhost:4000/computational-modeling/selecting-a-model</id><content type="html" xml:base="http://localhost:4000/computational-modeling/selecting-a-model"><![CDATA[<nav id="sidebar">
  <div class="toc-wrapper">
    <h4>Table of Contents</h4>
    <aside class="toc">
<ul id="markdown-toc">
  <li><a href="#my-first-model" id="markdown-toc-my-first-model">My First Model</a>    <ul>
      <li><a href="#selecting-a-model" id="markdown-toc-selecting-a-model">Selecting a Model</a></li>
      <li><a href="#a-story-of-individual-differences-adding-parameters" id="markdown-toc-a-story-of-individual-differences-adding-parameters">A Story of Individual Differences: Adding Parameters</a></li>
      <li><a href="#decision-rules" id="markdown-toc-decision-rules">Decision Rules</a></li>
    </ul>
  </li>
</ul>

    </aside>
  </div>

  <aside class="series">
    <h4>This post is part of the series <em>Computational Modeling</em></h4>
    <ol start="0">
    
    
    <li>
      
      <a href="/computational-modeling/">Computation Modeling</a>
      
    </li>
    
    <li>
      
      <strong>Selecting a Model</strong>
      
    </li>
    
  </ol>

    <p>More posts coming soon!</p>

  </aside>

</nav>

<section class="takeaways">

  <p>In this post you will learn the basics of computational modeling. Specifically you will learn how to implement a computational model with an example.</p>
  <ul>
    <li>Selecting a Model</li>
    <li>Ammedding a Model to suit your needs</li>
    <li>Implementing Decision Rules to implement choices in the model</li>
  </ul>

  <p>Prerequisites:</p>
  <ul>
    <li>Read through this <a href="/assets/papers/Holt2002_RiskAversionIncentives_enhanced_opt.pdf" title="Holt &amp; Laury 2002">paper</a> or have some basic background in behavioral economics / learning literature (e.g., reinforcement learning)</li>
    <li>Basic experience in data analysis</li>
  </ul>

</section>

<h2 id="my-first-model">My First Model</h2>

<!-- excerpt-start -->

<p>In order to give yourself a basic working example, I highly reccomend you read through this <a href="/assets/papers/Holt2002_RiskAversionIncentives_enhanced_opt.pdf" title="Holt &amp; Laury 2002">paper</a>.
This is a pretty foundational paper for creating models of decision making and gives a pretty good walkthrough on the process. 
For example, it describe how/why you typically want to add a noise term when modeling human decisions.
Its also quite short, only a few pages.</p>

<p>… Don’t worry I ‘ll wait. 😂</p>

<p>Now that you have finished reading through that, we can go through <!--2--> an example<!--s--> for implementing a computational model on simulated data.
The data will be generated from an experiment were the participants need to decide between two lotteries.
The lotteries are shown below in the table. 
I want you to look at each lottery and without looking at the far right column, decide which lottery you would choose: Option A or Option B.
Do this for all 10 lotteries.</p>

<table>
  <thead>
    <tr>
      <th>Option A</th>
      <th style="text-align: center">Option B</th>
      <th style="text-align: right">EV difference</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1/10 of <span>$</span>2.00, 9/10 of <span>$</span>1.60</td>
      <td style="text-align: center">1/10 of <span>$</span>3.85, 9/10 of <span>$</span>0.10</td>
      <td style="text-align: right"><span>$</span>1.17</td>
    </tr>
    <tr>
      <td>2/10 of <span>$</span>2.00, 8/10 of <span>$</span>1.60</td>
      <td style="text-align: center">2/10 of <span>$</span>3.85, 8/10 of <span>$</span>0.10</td>
      <td style="text-align: right"><span>$</span>0.83</td>
    </tr>
    <tr>
      <td>3/10 of <span>$</span>2.00, 7/10 of <span>$</span>1.60</td>
      <td style="text-align: center">3/10 of <span>$</span>3.85, 7/10 of <span>$</span>0.10</td>
      <td style="text-align: right"><span>$</span>0.50</td>
    </tr>
    <tr>
      <td>4/10 of <span>$</span>2.00, 6/10 of <span>$</span>1.60</td>
      <td style="text-align: center">4/10 of <span>$</span>3.85, 6/10 of <span>$</span>0.10</td>
      <td style="text-align: right"><span>$</span>0.16</td>
    </tr>
    <tr>
      <td>5/10 of <span>$</span>2.00, 5/10 of <span>$</span>1.60</td>
      <td style="text-align: center">5/10 of <span>$</span>3.85, 5/10 of <span>$</span>0.10</td>
      <td style="text-align: right">-<span>$</span>0.18</td>
    </tr>
    <tr>
      <td>6/10 of <span>$</span>2.00, 4/10 of <span>$</span>1.60</td>
      <td style="text-align: center">6/10 of <span>$</span>3.85, 4/10 of <span>$</span>0.10</td>
      <td style="text-align: right">-<span>$</span>0.51</td>
    </tr>
    <tr>
      <td>7/10 of <span>$</span>2.00, 3/10 of <span>$</span>1.60</td>
      <td style="text-align: center">7/10 of <span>$</span>3.85, 3/10 of <span>$</span>0.10</td>
      <td style="text-align: right">-<span>$</span>0.85</td>
    </tr>
    <tr>
      <td>8/10 of <span>$</span>2.00, 2/10 of <span>$</span>1.60</td>
      <td style="text-align: center">8/10 of <span>$</span>3.85, 2/10 of <span>$</span>0.10</td>
      <td style="text-align: right">-<span>$</span>1.18</td>
    </tr>
    <tr>
      <td>9/10 of <span>$</span>2.00, 1/10 of <span>$</span>1.60</td>
      <td style="text-align: center">9/10 of <span>$</span>3.85, 1/10 of <span>$</span>0.10</td>
      <td style="text-align: right">-<span>$</span>1.52</td>
    </tr>
    <tr>
      <td>10/10 of <span>$</span>2.00, 0/10 of <span>$</span>1.60</td>
      <td style="text-align: center">10/10 of <span>$</span>3.85, 0/10 of <span>$</span>0.10</td>
      <td style="text-align: right">-<span>$</span>1.85</td>
    </tr>
  </tbody>
</table>

<h3 id="selecting-a-model">Selecting a Model</h3>

<p>The first and most important part for computational modeling is the model that you select. 
You should definitely take some time when selecting a model because this <strong>IS YOUR PREDICTION</strong> for how participants will make decisions in experiment. 
Often times you will use a model that has already been used in other experiments, but occasionally, you will need to make your own (or much much more likely, you will have to adjust an existing one).
With that in mind, I will go through a really basic example for adjusting models to improve them.
This should give you a sense of how this process works, such that you can do it on your own when the time requires it.</p>

<p>Our example data is going to come from people making choices between different lotteries involving money.
As such, expected value (EV) is definitionally, an optimal starting point.
For the uninitiated, EV is a mathematical formula for determining the value of a risking lottery. 
So if you are acting perfectly rationally, you should choose the lottery with the highest EV. 
The formula for EV is:</p>

\[EV = \sum_{i=1}^{k} p_i \times v_i\]

<p>where $p$ is the probablity of winning the lottery and $v$ is the value that you get if you win that lottery. $k$ represents the total number of options for the lottery. So if you have a lottery that was 50:50 and if you win you get <span>$</span>10 and if you lose you get <span>$</span>0 then you could solve with:</p>

\[EV = .5 * 10 + .5 * 0\]

\[EV = 5 + 0\]

\[EV = 5\]

<p>Another way to say this is if you played this lottery an infinite number of times, we would expect you to, on average, earn <span>$</span>5.
This should make intuitive sense giving the options of the lottery.
This formula is useful because it works no matter what the probabilities or winning amount are, and it doesnt matter how many of them their are.</p>

<p>We can apply that same formula to all the lottery options shown in the table above. 
And then we will take the difference in EV between the two options (see right most column).
Finally, we can implement a decision rule, that is a rule to decide which option to pick. 
For EV, you should pick the option that has a higher expected value. 
In the figure below, we plotted the probability of choosing the first option (Option A) against the different lotteries, given our model/decision rule combo.</p>

<p><img src="/assets/code/plots/ev_plot.png" alt="EV Model Predictions" /></p>

<p>Notice that this model predicts that people would select option A for the first 4, and then select B for the remaining ones. 
As described above, this is mathematically optimal.
But the question is, how would you expect people to decide to their lotteries?
Which did you choose when you picked between them?</p>

<p>Here is some simulated data to use as a comparison:
<img src="/assets/code/plots/part_data_plot.png" alt="EV Model Predictions with Simulated Data" /></p>

<p>Again the dotted line indicates the EV models predictions, and the new solid line with dots indicates the average response for 50 simulated people. 
What are your thoughts? 
Is this model any good?
You might think, no, its pretty bad, which it is…, but there are some important that it gets right.
Notice that the simulated data has a similar structure as the prediction.
That is, pretty much everyone chooses Option A for the first 4 and everyone selects Option B for the final 3.
So in reality, it only gets the middle ones wrong. 
So maybe we can adjust this model to account for that as opposed to come up with a entirely new model.</p>

<h3 id="a-story-of-individual-differences-adding-parameters">A Story of Individual Differences: Adding Parameters</h3>

<p>One thing you might have noticed, is that the EV model expects everyone to make the same choices. 
The hypothesis is so absurd that is can be rejected outright.
Instead, it is pretty obvious that people make different choices; for example, some people really don’t like it if the odds of winning are not in their favor.
In Psychology/Econoimics, we call this behavior risk aversion.
And we can add this to the model as well. 
Continuing with our example, this can be done by adding a exponent to the $v$ term in EV. 
For example:</p>

\[SV(p, v) = \sum_{i=1}^{k} p_i \times v_i^{\alpha}\]

<p>There are a few things I want to point out.
First I changed the function from $EV$ to $SV$.
This is to signify, that this is no longer an equation for expected value, but rather, for <strong>subjective value</strong>, or the value a individual places on that lottery. 
The second is that I have made it more clear that $p$ and $v$ are inputs to the model by including them in the parentheses on the left side.
Finally, you can see the new term $\alpha$ (pronounced alpha) which is unique to each individual.</p>

<p>The new parameter ($\alpha$) allows us to be able to predict that people will make choices different from one another; however, importantly, we expect everyone to make choices with this specific structure in mind.
So, although people differs on what they consider a reasonable lottery, we expect them to way the probabilityby the amount they could win. The $\alpha$’s allow us to adjust for each person what their specific threshold is for what makes a good lottery. While this is a bit simplified, hopefully it gives you a general intuition for the formula.</p>
<blockquote>
  <p><strong>Note</strong>: Traditionally, individual specific parameters typically use greek letters. This can help you identify what parts of the model is an input versus participant specific.</p>
</blockquote>

<p>Now we can use this model to predict the participants decisions.
But which $\alpha$ should we use?
Well since we are just exploring, let’s pick a few to see which ones look more accurate.
Since we are plotting the average data, these plotted $\alpha$’s are really a meteric of the average $\alpha$.</p>

<p><img src="/assets/code/plots/sv_plot.png" alt="SV Model Predictions" /></p>

<p>Now we added the colored lines.
What you should notice is that it seems like that blue (.7) and green (.5) lines seem to improve on the EV model in that it gets the threshold a littel bit more accurate. 
This is a good sign.
It lets us know we are on the right track.</p>
<blockquote>
  <p><strong>Note</strong>: These are simulated data and not necessarily representive of real data. Some values have been intensionally exaggerated for pedogological reasons.</p>
</blockquote>

<p>But there is something still bothering me, and hopefully you as well. 
The thresholds are really sharp; the data has a gradual decline as a opposed to be completely instantaneous. 
Let’s fix that by adjusted the decision rule.</p>

<h3 id="decision-rules">Decision Rules</h3>

<p>We are going to add another equation to serve as a rule for making the choice.
So instead of simply choosing the option with the higher EV or SV we will have a more graded response. 
As with most things, there are a few different equations you could use. 
For this tutorial, we will use an inverse logit function:</p>

\[p(Option_A\mid SV_a, SV_b) = \frac{1}{1 + e^{\gamma(SV_b - SV_a)}}\]

<p>Here, the function is for the probability of choosing option A for a particular lottery (the probability of choosing option B is just $1-p$).
And to calculate this probability, you need the subjective value for both option A ($SV_A$) and B ($SV_B$), which implies we also need that person’s $\alpha$ to calculate their $SV$’s.
Additionally, we introduced a new parameter $\gamma$ (pronounced gamma).
This is commonly described as a noise term because it allows for people to be noisey in their decisions, in other words they are not always consistent.</p>

<p>But again we have an issue, what is the correct $\gamma$?
Of course, without looking at the data you would be hard pressed to give a sensible answer.
So we will use a similar stragey, use a couple and plot them.</p>

<p><img src="/assets/code/plots/sv_prob_plot.png" alt="SV Model Predictions" /></p>

<p>This looks incredible!!
We are having very close predictions to the real data!
Specifically, when $\gamma=8$ it seems to match the data really well.</p>

<p>Now that you got the hang of what a computational model is and how they work, you are ready for the next section.
<!-- Before heading to the next section, see the [practice](#homework) shown below to give you some more experience with how these work. -->
In the next tutorial you will dive deeper into computational models.
Specifically, you will learn how to estimate the parameters of your model instead of guessing and checking.
Additionally, you will learn how to evaluate whether its a good model or not.</p>

<!--
## Advanced Topics:

- Param Estimation: Use the Data: Estimating Parameters
- Simulation
- degrees of freedom
- Model Comparison

## Homework
-->

<h2 id="references">References</h2>]]></content><author><name>Deshawn Sambrano</name></author><category term="computational-modeling" /><category term="Math" /><category term="Computational-Modeling" /><category term="R" /><category term="Python" /><summary type="html"><![CDATA[Table of Contents My First Model Selecting a Model A Story of Individual Differences: Adding Parameters Decision Rules Advanced Topics: Homework References This post is part of the series Computational Modeling Computation Modeling Selecting a Model In this blog you will learn the basics of computational modeling. Specifically you will learn: How to implement a computational model with an example. Model Selection Ammedding a Model to suit your needs Decision Rules Prerequisites: Read through this paper or have some basic background in behavioral economics / learning literature (e.g., reinforcement learning) My First Model In order to give yourself a basic working example, I highly reccomend you read through this paper. This is a pretty foundational paper for creating models of decision making and gives a pretty good walkthrough on the process. For example, it describe how/why you typically want to add a noise term when modeling human decisions. Its also quite short, only about 13 pages. … Don’t worry I ‘ll wait. 😂 Now that you have finished reading through that, we can go through an example for implementing a computational model on simulated data. The data will be generated from an experiment were the participant need to decide between two lotteries. The lotteries are shown below in the table. I want you to look at each lottery and without looking at the column on the right, decided which lottery you would choose: Option A or Option B. Do this for all 10 lotteries. Option A Option B EV difference 1/10 of $2.00, 9/10 of $1.60 1/10 of $3.85, 9/10 of $0.10 $1.17 2/10 of $2.00, 8/10 of $1.60 2/10 of $3.85, 8/10 of $0.10 $0.83 3/10 of $2.00, 7/10 of $1.60 3/10 of $3.85, 7/10 of $0.10 $0.50 4/10 of $2.00, 6/10 of $1.60 4/10 of $3.85, 6/10 of $0.10 $0.16 5/10 of $2.00, 5/10 of $1.60 5/10 of $3.85, 5/10 of $0.10 -$0.18 6/10 of $2.00, 4/10 of $1.60 6/10 of $3.85, 4/10 of $0.10 -$0.51 7/10 of $2.00, 3/10 of $1.60 7/10 of $3.85, 3/10 of $0.10 -$0.85 8/10 of $2.00, 2/10 of $1.60 8/10 of $3.85, 2/10 of $0.10 -$1.18 9/10 of $2.00, 1/10 of $1.60 9/10 of $3.85, 1/10 of $0.10 -$1.52 10/10 of $2.00, 0/10 of $1.60 10/10 of $3.85, 0/10 of $0.10 -$1.85 Selecting a Model The first and most important part for computational modeling is the model that you select. You should definitely take some time when selecting a model because this IS YOUR PREDICTION for how participants will make decisions in experiment. Often times you will use a model that has already been used in other experiments, but occasionally, you will need to make your own (or much much more likely, you will have to adjust an existing one). With that in mind, I will go through a really basic example for adjusting models to improve them. This should give you a sense of how this process works, such that you can do it on your own when the time requires it. Our example data is going to come from people making choices between different lotteries involving money. As such, expected value (EV) is quite literally an optimal starting point. For the uninitiated, EV is a mathematical formula for determining the value of a risking lottery. So if you are acting perfectly rationally, you should choose the lottery with the highest EV. The formula for EV is: \[EV = \sum_{i=1}^{k} p_i \times v_i\] where $p$ is the probablity of winning the lottery and $v$ is the value that you get if you win that lottery. $k$ represents the total number of options for the lottery. So if you have a lottery that was 50:50 and if you win you get $10 and if you lose you get $0 then you could solve with: \[EV = .5 * 10 + .5 * 0\] \[EV = 5 + 0\] \[EV = 5\] which is to simply say that, if you played this lottery an infinite number of times, we would expect you to, on average, earn $5. This should make intuitive sense giving the options of the lottery. This formula is useful because it works no matter what the probabilities or winning amount are, and it doesnt matter how many of them their are. We can apply that same formula to all the lottery options shown in the table above. And then we will take the difference in EV between the two options (see right most column). Finally, we can implement a decision rule, that is a rule to decide which option to pick. For EV, you should pick the option that has a higher expected value. In the figure below, we plotted the probability of choosing the first option (Option A) against the different options. Notice that this model predicts that people would select option A for the first 4, and then select B for the remaining ones. As described above, this is mathematically optimal. But the question is, how would you expect people to decide to their lotteries? Which did you choose when you picked between them? Here is some simulated data to use as a comparison: Again the dotted line indicates that EV models predictions, and the new solid line with dots indicates the average response for 50 simulated people. What are your thoughts? Is this model any good? You might think, no, its pretty bad, which it is, but there is something important that it gets right. Notice that the simulated data has a similar structure as the prediction. That is to say pretty much everyone chooses Option A for the first 4 and everyone selects Option B for the final 3. So in reality, it only gets the middle ones wrong. So maybe we can adjust this model to account for that as opposed to come up with a entirely new model. A Story of Individual Differences: Adding Parameters One thing you might have noticed, is that the EV model expects everyone to make the same choices. The hypothesis is so absurd that is can be rejected outright. Instead, it is pretty obvious that people make different choices; for example, some people really don’t like it if the odds of winning are not in their favor. In Psychology/Econoimics, we call this behavior risk aversion. And we can add this to the model as well. Continuing with our example, this can be done by adding a exponent to the $v$ term in EV. For example: \[SV(p, v) = \sum_{i=1}^{k} p_i \times v_i^{\alpha}\] There are a few things I want to point out. First I changed the function from $EV$ to $SV$. This is to signify, that this is no longer an equation for expected value, but rather, for subjective value, or the value a individual places on that lottery. The second is that I have made it more clear that $p$ and $v$ are inputs to the model by including them in the parentheses on the left side. Finally, you can see the new term $\alpha$ which is unique to each individual. This allows us to be able to predict that people will make choices different from one another; however, importantly, we expect everyone to make choices with this specific structure in mind. Note: Traditionally, individual specific parameters typically use greek letters. This can help you identify what parts of the model is an input versus participant specific. Now we can use this model to predict the participants decisions. But which $\alpha$ should we use? Well since we are just exploring, let’s pick a few to see which ones look more accurate. Now we added the colored lines. What you should notice is that it seems like that blue (.7) and green (.5) lines seem to improve on the EV model in that it gets the threshold a littel bit more accurate. This is a good sign, it lets us know we are on the right track. Note: These are similated data and not necessarily representive of real data. Some values have been intensionally exaggerated for pedogological reasons. But there is something still bothering me, and hopefully you as well. The thresholds are really sharp; the data has a gradual decline as a opposed to be completely instantaneous. Let’s fix that by adjusted the decision rule. Decision Rules We are going to add another equation to serve as a rule for making the choice. So instead of simply choosing the option with the higher EV or SV we will have a more graded response. As with most things, there are a few different equations you could use. For this tutorial, we will use an inverse logit function: \[p(Option_A| SV_a, SV_b) = \frac{1}{1 + e^{\gamma(SV_b - SV_a)}}\] Again we have an issue, what is the correct $\gamma$? Of course, without looking at the data you would be hard pressed to give a sensible answer. So we will use a similar stragey, use a couple and plot them. This looks incredible!! We are having very close predictions to the real data! Specifically, when $\gamma=8$ it seems to match the data really well. Now that you got the hang of what a computational model is and have they work, you are ready for the next section. Before heading to the next section, see the practice shown below to give you some more experience with how these work. In the next tutorial you will dive deeper into computational models. Specifically, you will learn how to estimate the parameters of your model instead of guessing and checking. Additionally, you will learn how to evaluate whether its a good model or not. Advanced Topics: Param Estimation: Use the Data: Estimating Parameters Simulation degrees of freedom Model Comparison Homework References]]></summary></entry></feed>
=======
<h2 id="references">References</h2>]]></content><author><name>Deshawn Sambrano</name></author><category term="computational-modeling" /><category term="Math" /><category term="Computational-Modeling" /><category term="R" /><category term="Python" /><summary type="html"><![CDATA[Table of Contents My First Model Selecting a Model A Story of Individual Differences: Adding Parameters Decision Rules Advanced Topics: Homework References This post is part of the series Computational Modeling Computation Modeling Selecting a Model More posts coming soon! In this blog you will learn the basics of computational modeling. Specifically you will learn: How to implement a computational model with an example. Model Selection Ammedding a Model to suit your needs Decision Rules Prerequisites: Read through this paper or have some basic background in behavioral economics / learning literature (e.g., reinforcement learning) My First Model In order to give yourself a basic working example, I highly reccomend you read through this paper. This is a pretty foundational paper for creating models of decision making and gives a pretty good walkthrough on the process. For example, it describe how/why you typically want to add a noise term when modeling human decisions. Its also quite short, only about 13 pages. … Don’t worry I ‘ll wait. 😂 Now that you have finished reading through that, we can go through an example for implementing a computational model on simulated data. The data will be generated from an experiment were the participant need to decide between two lotteries. The lotteries are shown below in the table. I want you to look at each lottery and without looking at the column on the right, decided which lottery you would choose: Option A or Option B. Do this for all 10 lotteries. Option A Option B EV difference 1/10 of $2.00, 9/10 of $1.60 1/10 of $3.85, 9/10 of $0.10 $1.17 2/10 of $2.00, 8/10 of $1.60 2/10 of $3.85, 8/10 of $0.10 $0.83 3/10 of $2.00, 7/10 of $1.60 3/10 of $3.85, 7/10 of $0.10 $0.50 4/10 of $2.00, 6/10 of $1.60 4/10 of $3.85, 6/10 of $0.10 $0.16 5/10 of $2.00, 5/10 of $1.60 5/10 of $3.85, 5/10 of $0.10 -$0.18 6/10 of $2.00, 4/10 of $1.60 6/10 of $3.85, 4/10 of $0.10 -$0.51 7/10 of $2.00, 3/10 of $1.60 7/10 of $3.85, 3/10 of $0.10 -$0.85 8/10 of $2.00, 2/10 of $1.60 8/10 of $3.85, 2/10 of $0.10 -$1.18 9/10 of $2.00, 1/10 of $1.60 9/10 of $3.85, 1/10 of $0.10 -$1.52 10/10 of $2.00, 0/10 of $1.60 10/10 of $3.85, 0/10 of $0.10 -$1.85 Selecting a Model The first and most important part for computational modeling is the model that you select. You should definitely take some time when selecting a model because this IS YOUR PREDICTION for how participants will make decisions in experiment. Often times you will use a model that has already been used in other experiments, but occasionally, you will need to make your own (or much much more likely, you will have to adjust an existing one). With that in mind, I will go through a really basic example for adjusting models to improve them. This should give you a sense of how this process works, such that you can do it on your own when the time requires it. Our example data is going to come from people making choices between different lotteries involving money. As such, expected value (EV) is quite literally an optimal starting point. For the uninitiated, EV is a mathematical formula for determining the value of a risking lottery. So if you are acting perfectly rationally, you should choose the lottery with the highest EV. The formula for EV is: \[EV = \sum_{i=1}^{k} p_i \times v_i\] where $p$ is the probablity of winning the lottery and $v$ is the value that you get if you win that lottery. $k$ represents the total number of options for the lottery. So if you have a lottery that was 50:50 and if you win you get $10 and if you lose you get $0 then you could solve with: \[EV = .5 * 10 + .5 * 0\] \[EV = 5 + 0\] \[EV = 5\] which is to simply say that, if you played this lottery an infinite number of times, we would expect you to, on average, earn $5. This should make intuitive sense giving the options of the lottery. This formula is useful because it works no matter what the probabilities or winning amount are, and it doesnt matter how many of them their are. We can apply that same formula to all the lottery options shown in the table above. And then we will take the difference in EV between the two options (see right most column). Finally, we can implement a decision rule, that is a rule to decide which option to pick. For EV, you should pick the option that has a higher expected value. In the figure below, we plotted the probability of choosing the first option (Option A) against the different options. Notice that this model predicts that people would select option A for the first 4, and then select B for the remaining ones. As described above, this is mathematically optimal. But the question is, how would you expect people to decide to their lotteries? Which did you choose when you picked between them? Here is some simulated data to use as a comparison: Again the dotted line indicates that EV models predictions, and the new solid line with dots indicates the average response for 50 simulated people. What are your thoughts? Is this model any good? You might think, no, its pretty bad, which it is, but there is something important that it gets right. Notice that the simulated data has a similar structure as the prediction. That is to say pretty much everyone chooses Option A for the first 4 and everyone selects Option B for the final 3. So in reality, it only gets the middle ones wrong. So maybe we can adjust this model to account for that as opposed to come up with a entirely new model. A Story of Individual Differences: Adding Parameters One thing you might have noticed, is that the EV model expects everyone to make the same choices. The hypothesis is so absurd that is can be rejected outright. Instead, it is pretty obvious that people make different choices; for example, some people really don’t like it if the odds of winning are not in their favor. In Psychology/Econoimics, we call this behavior risk aversion. And we can add this to the model as well. Continuing with our example, this can be done by adding a exponent to the $v$ term in EV. For example: \[SV(p, v) = \sum_{i=1}^{k} p_i \times v_i^{\alpha}\] There are a few things I want to point out. First I changed the function from $EV$ to $SV$. This is to signify, that this is no longer an equation for expected value, but rather, for subjective value, or the value a individual places on that lottery. The second is that I have made it more clear that $p$ and $v$ are inputs to the model by including them in the parentheses on the left side. Finally, you can see the new term $\alpha$ which is unique to each individual. This allows us to be able to predict that people will make choices different from one another; however, importantly, we expect everyone to make choices with this specific structure in mind. Note: Traditionally, individual specific parameters typically use greek letters. This can help you identify what parts of the model is an input versus participant specific. Now we can use this model to predict the participants decisions. But which $\alpha$ should we use? Well since we are just exploring, let’s pick a few to see which ones look more accurate. Now we added the colored lines. What you should notice is that it seems like that blue (.7) and green (.5) lines seem to improve on the EV model in that it gets the threshold a littel bit more accurate. This is a good sign, it lets us know we are on the right track. Note: These are similated data and not necessarily representive of real data. Some values have been intensionally exaggerated for pedogological reasons. But there is something still bothering me, and hopefully you as well. The thresholds are really sharp; the data has a gradual decline as a opposed to be completely instantaneous. Let’s fix that by adjusted the decision rule. Decision Rules We are going to add another equation to serve as a rule for making the choice. So instead of simply choosing the option with the higher EV or SV we will have a more graded response. As with most things, there are a few different equations you could use. For this tutorial, we will use an inverse logit function: \[p(Option_A| SV_a, SV_b) = \frac{1}{1 + e^{\gamma(SV_b - SV_a)}}\] Again we have an issue, what is the correct $\gamma$? Of course, without looking at the data you would be hard pressed to give a sensible answer. So we will use a similar stragey, use a couple and plot them. This looks incredible!! We are having very close predictions to the real data! Specifically, when $\gamma=8$ it seems to match the data really well. Now that you got the hang of what a computational model is and have they work, you are ready for the next section. Before heading to the next section, see the practice shown below to give you some more experience with how these work. In the next tutorial you will dive deeper into computational models. Specifically, you will learn how to estimate the parameters of your model instead of guessing and checking. Additionally, you will learn how to evaluate whether its a good model or not. Advanced Topics: Param Estimation: Use the Data: Estimating Parameters Simulation degrees of freedom Model Comparison Homework References]]></summary></entry></feed>
>>>>>>> 8ba9cec (Updated Series Sidebar to Include more posts if not completed)
<!-- ## References -->]]></content><author><name>Deshawn Sambrano</name></author><category term="computational-modeling" /><category term="Math" /><category term="Computational-Modeling" /><category term="R" /><category term="Python" /><summary type="html"><![CDATA[Table of Contents My First Model Selecting a Model A Story of Individual Differences: Adding Parameters Decision Rules This post is part of the series Computational Modeling Computation Modeling Selecting a Model More posts coming soon! In this post you will learn the basics of computational modeling. Specifically you will learn how to implement a computational model with an example. Selecting a Model Ammedding a Model to suit your needs Implementing Decision Rules to implement choices in the model Prerequisites: Read through this paper or have some basic background in behavioral economics / learning literature (e.g., reinforcement learning) Basic experience in data analysis My First Model In order to give yourself a basic working example, I highly reccomend you read through this paper. This is a pretty foundational paper for creating models of decision making and gives a pretty good walkthrough on the process. For example, it describe how/why you typically want to add a noise term when modeling human decisions. Its also quite short, only a few pages. … Don’t worry I ‘ll wait. 😂 Now that you have finished reading through that, we can go through an example for implementing a computational model on simulated data. The data will be generated from an experiment were the participants need to decide between two lotteries. The lotteries are shown below in the table. I want you to look at each lottery and without looking at the far right column, decide which lottery you would choose: Option A or Option B. Do this for all 10 lotteries. Option A Option B EV difference 1/10 of $2.00, 9/10 of $1.60 1/10 of $3.85, 9/10 of $0.10 $1.17 2/10 of $2.00, 8/10 of $1.60 2/10 of $3.85, 8/10 of $0.10 $0.83 3/10 of $2.00, 7/10 of $1.60 3/10 of $3.85, 7/10 of $0.10 $0.50 4/10 of $2.00, 6/10 of $1.60 4/10 of $3.85, 6/10 of $0.10 $0.16 5/10 of $2.00, 5/10 of $1.60 5/10 of $3.85, 5/10 of $0.10 -$0.18 6/10 of $2.00, 4/10 of $1.60 6/10 of $3.85, 4/10 of $0.10 -$0.51 7/10 of $2.00, 3/10 of $1.60 7/10 of $3.85, 3/10 of $0.10 -$0.85 8/10 of $2.00, 2/10 of $1.60 8/10 of $3.85, 2/10 of $0.10 -$1.18 9/10 of $2.00, 1/10 of $1.60 9/10 of $3.85, 1/10 of $0.10 -$1.52 10/10 of $2.00, 0/10 of $1.60 10/10 of $3.85, 0/10 of $0.10 -$1.85 Selecting a Model The first and most important part for computational modeling is the model that you select. You should definitely take some time when selecting a model because this IS YOUR PREDICTION for how participants will make decisions in experiment. Often times you will use a model that has already been used in other experiments, but occasionally, you will need to make your own (or much much more likely, you will have to adjust an existing one). With that in mind, I will go through a really basic example for adjusting models to improve them. This should give you a sense of how this process works, such that you can do it on your own when the time requires it. Our example data is going to come from people making choices between different lotteries involving money. As such, expected value (EV) is definitionally, an optimal starting point. For the uninitiated, EV is a mathematical formula for determining the value of a risking lottery. So if you are acting perfectly rationally, you should choose the lottery with the highest EV. The formula for EV is: \[EV = \sum_{i=1}^{k} p_i \times v_i\] where $p$ is the probablity of winning the lottery and $v$ is the value that you get if you win that lottery. $k$ represents the total number of options for the lottery. So if you have a lottery that was 50:50 and if you win you get $10 and if you lose you get $0 then you could solve with: \[EV = .5 * 10 + .5 * 0\] \[EV = 5 + 0\] \[EV = 5\] Another way to say this is if you played this lottery an infinite number of times, we would expect you to, on average, earn $5. This should make intuitive sense giving the options of the lottery. This formula is useful because it works no matter what the probabilities or winning amount are, and it doesnt matter how many of them their are. We can apply that same formula to all the lottery options shown in the table above. And then we will take the difference in EV between the two options (see right most column). Finally, we can implement a decision rule, that is a rule to decide which option to pick. For EV, you should pick the option that has a higher expected value. In the figure below, we plotted the probability of choosing the first option (Option A) against the different lotteries, given our model/decision rule combo. Notice that this model predicts that people would select option A for the first 4, and then select B for the remaining ones. As described above, this is mathematically optimal. But the question is, how would you expect people to decide to their lotteries? Which did you choose when you picked between them? Here is some simulated data to use as a comparison: Again the dotted line indicates the EV models predictions, and the new solid line with dots indicates the average response for 50 simulated people. What are your thoughts? Is this model any good? You might think, no, its pretty bad, which it is…, but there are some important that it gets right. Notice that the simulated data has a similar structure as the prediction. That is, pretty much everyone chooses Option A for the first 4 and everyone selects Option B for the final 3. So in reality, it only gets the middle ones wrong. So maybe we can adjust this model to account for that as opposed to come up with a entirely new model. A Story of Individual Differences: Adding Parameters One thing you might have noticed, is that the EV model expects everyone to make the same choices. The hypothesis is so absurd that is can be rejected outright. Instead, it is pretty obvious that people make different choices; for example, some people really don’t like it if the odds of winning are not in their favor. In Psychology/Econoimics, we call this behavior risk aversion. And we can add this to the model as well. Continuing with our example, this can be done by adding a exponent to the $v$ term in EV. For example: \[SV(p, v) = \sum_{i=1}^{k} p_i \times v_i^{\alpha}\] There are a few things I want to point out. First I changed the function from $EV$ to $SV$. This is to signify, that this is no longer an equation for expected value, but rather, for subjective value, or the value a individual places on that lottery. The second is that I have made it more clear that $p$ and $v$ are inputs to the model by including them in the parentheses on the left side. Finally, you can see the new term $\alpha$ (pronounced alpha) which is unique to each individual. The new parameter ($\alpha$) allows us to be able to predict that people will make choices different from one another; however, importantly, we expect everyone to make choices with this specific structure in mind. So, although people differs on what they consider a reasonable lottery, we expect them to way the probabilityby the amount they could win. The $\alpha$’s allow us to adjust for each person what their specific threshold is for what makes a good lottery. While this is a bit simplified, hopefully it gives you a general intuition for the formula. Note: Traditionally, individual specific parameters typically use greek letters. This can help you identify what parts of the model is an input versus participant specific. Now we can use this model to predict the participants decisions. But which $\alpha$ should we use? Well since we are just exploring, let’s pick a few to see which ones look more accurate. Since we are plotting the average data, these plotted $\alpha$’s are really a meteric of the average $\alpha$. Now we added the colored lines. What you should notice is that it seems like that blue (.7) and green (.5) lines seem to improve on the EV model in that it gets the threshold a littel bit more accurate. This is a good sign. It lets us know we are on the right track. Note: These are simulated data and not necessarily representive of real data. Some values have been intensionally exaggerated for pedogological reasons. But there is something still bothering me, and hopefully you as well. The thresholds are really sharp; the data has a gradual decline as a opposed to be completely instantaneous. Let’s fix that by adjusted the decision rule. Decision Rules We are going to add another equation to serve as a rule for making the choice. So instead of simply choosing the option with the higher EV or SV we will have a more graded response. As with most things, there are a few different equations you could use. For this tutorial, we will use an inverse logit function: \[p(Option_A\mid SV_a, SV_b) = \frac{1}{1 + e^{\gamma(SV_b - SV_a)}}\] Here, the function is for the probability of choosing option A for a particular lottery (the probability of choosing option B is just $1-p$). And to calculate this probability, you need the subjective value for both option A ($SV_A$) and B ($SV_B$), which implies we also need that person’s $\alpha$ to calculate their $SV$’s. Additionally, we introduced a new parameter $\gamma$ (pronounced gamma). This is commonly described as a noise term because it allows for people to be noisey in their decisions, in other words they are not always consistent. But again we have an issue, what is the correct $\gamma$? Of course, without looking at the data you would be hard pressed to give a sensible answer. So we will use a similar stragey, use a couple and plot them. This looks incredible!! We are having very close predictions to the real data! Specifically, when $\gamma=8$ it seems to match the data really well. Now that you got the hang of what a computational model is and how they work, you are ready for the next section. In the next tutorial you will dive deeper into computational models. Specifically, you will learn how to estimate the parameters of your model instead of guessing and checking. Additionally, you will learn how to evaluate whether its a good model or not.]]></summary></entry></feed>
